### 스코프 유효 범위

- 모든 식별자 (변수명, 함수명, 클래스명 등)은 자신이 선언된 위치에 따라서 식별자 자신을 참조할 수 있는 범위가 결정된다.

### 식별자 결정 identifier resoultion

- 자바스크립트 엔진은 이름이 같은 두 개의 변수 중에서 어떤 변수를 참조해야 할 것인지 결정을 하는데.
- 이 때 자바스크립트 엔진은 식별자를 검색할 때 사용하는 규칙을 스코프라고도 할 수 있다.
- (자바스크립트 엔진은 코드를 실행할 때 코드의 문맥 contect를 고려한다.)

### 렉시컬 환경

- `코드가 어디서 실행되며 주변에 어떤 코드가 있는가`를 렉시컬 환경이라고 부른다. 즉, `코드의 문맥context`은 렉시컬 환경으로 이뤄진다.
- 이것이 구현된 것이 `실행 컨텍스트execution contect` 이며 모든 코드는 실행 컨텍스트에서 평가eval되고 실행exec된다.

### 함수의 중첩

- 전역에도 같은 식별자의 함수가 있고 지역에도 같은 식별자의 함수가 있을 떄 `스코프 체인`을 통해서 검색한다.

### 스코프 체인

- 전역 스코프 <- Outer 지역 스코프 <- Inner 지역 스코프
- 자바스크립트 엔진은 코드를 실행하기에 앞서 위와 유사한 자료구조인 `렉시컬 환경lexical Evnviroment`을 실제로 생성한다.
- 단방향 연결
- 전역 렉시컬 환경은 코드가 로드되면 바로 생성
- 함수의 렉시컬 환경은 함수가 호출되면 곧바로 생성

* `함수 선언문`으로 함수를 정의하면 런타임 이전에 함수 객체가 생성

### 함수 레벨 스코프

- var 키워드로 선언된 변수는 오로지 함수의 코드 블록만을 지역 스코프로 인정한다.
- if,for 등 모든 코드 블록이 지역 변수 스코프로 인정하는 것은 블록 레벨 스코프

### 자바스크립트는 렉시컬 스코프를 따른다

```
var x = 1;

function foo() {
  var x = 10;
  bar();
}

function bar() {
  console.log(x);
}

foo(); //1
bar(); //1
```

### 자바스크립트는 렉시컬 스코프를 따른다.

함수가 호출된 위치는 상위 스코프 결정에 어떠한 영향도 주지 않는다.

- 동적 스코프`dynamic scope` : 함수를 어디서 호출했는지에 따라 함수의 상위 스코프를 결정한다.
- 정적 스코프 또는 렉시컬 스코프 : 함수를 어디서 정의했는지에 따라 상위 스코프를 결정한다.

- 즉, 함수 선언문으로 정의돈 bar 함수는 전역 코드가 실행되기전에 먼저 평가되어 함수 객체를 생성
- bar 함수가 호출되면 호출된 곳이 어디인지 관게 없이 언제나 자신이 기억하고 있는 `전역 스코프` 를 상위 스코프로 사용한다.
